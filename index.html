<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculatrice ROI & ROAS - BTS Com</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f2f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }
        .calculator-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 500px;
        }
        h2 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 1.5rem;
        }
        .input-group {
            margin-bottom: 1.5rem;
        }
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #34495e;
        }
        .hint {
            font-size: 0.85em;
            color: #7f8c8d;
            margin-top: 0.2rem;
            font-style: italic;
        }
        input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            box-sizing: border-box; 
            transition: border-color 0.3s;
        }
        input[type="number"]:focus {
            border-color: #3498db;
            outline: none;
        }
        /* Style sp√©cifique pour montrer que c'est interactif */
        input[type="number"]:active {
            background-color: #fafdff;
        }

        button {
            width: 100%;
            padding: 15px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-bottom: 1rem;
        }
        button:hover {
            background-color: #2980b9;
        }
        
        /* R√©sultats */
        .results-container {
            margin-top: 1rem;
            display: none; /* Cach√© par d√©faut */
            border-top: 2px solid #f0f2f5;
            padding-top: 1.5rem;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result-box {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 1rem;
            text-align: center;
            transition: all 0.3s ease;
        }
        .roas-box {
            background-color: #e8f6f3;
            border: 1px solid #a2d9ce;
            color: #16a085;
        }
        .roi-box {
            background-color: #ebf5fb;
            border: 1px solid #a9cce3;
            color: #2980b9;
        }
        .roi-negative {
            background-color: #fdebd0;
            border: 1px solid #f5cba7;
            color: #d35400;
        }
        .result-title {
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
            display: block;
        }
        .result-value {
            font-size: 2em;
            font-weight: bold;
            display: block;
        }
        .explanation {
            font-size: 0.9em;
            margin-top: 5px;
            display: block;
        }
        .summary {
            margin-top: 10px;
            font-weight: bold;
            text-align: center;
        }
    </style>
</head>
<body>

<div class="calculator-card">
    <h2>üí∞ Calculatrice Rentabilit√©</h2>

    <div class="input-group">
        <label for="revenue">1. Chiffre d'Affaires (CA) g√©n√©r√© (‚Ç¨)</label>
        <input type="number" id="revenue" placeholder="Ex: 5000" oninput="calculateMetrics()">
        <div class="hint">Volume de ventes x Panier moyen</div>
    </div>

    <div class="input-group">
        <label for="adSpend">2. Budget M√©dia / Achat d'espace (‚Ç¨)</label>
        <input type="number" id="adSpend" placeholder="Ex: 1000" oninput="calculateMetrics()">
        <div class="hint">Uniquement ce qu'on paie √† Google/FB/R√©gie. Sert au ROAS.</div>
    </div>

    <div class="input-group">
        <label for="otherCosts">3. Autres Co√ªts (‚Ç¨)</label>
        <input type="number" id="otherCosts" placeholder="Ex: 500" oninput="calculateMetrics()">
        <div class="hint">Frais d'agence, production vid√©o, salaires, etc.</div>
    </div>

    <button onclick="calculateMetrics()">Afficher / Actualiser les R√©sultats</button>

    <div class="results-container" id="results">
        
        <div class="result-box roas-box">
            <span class="result-title">Efficacit√© M√©dia (ROAS)</span>
            <span class="result-value" id="roasValue">0.00</span>
            <span class="explanation">Pour 1‚Ç¨ de pub, vous r√©cup√©rez <span id="roasExplanation">0</span>‚Ç¨ de CA.</span>
        </div>

        <div class="result-box roi-box" id="roiBox">
            <span class="result-title">Rentabilit√© R√©elle (ROI)</span>
            <span class="result-value" id="roiValue">0%</span>
            <span class="explanation">B√©n√©fice net : <span id="profitValue">0</span> ‚Ç¨</span>
        </div>

        <div class="summary" id="summaryText"></div>
    </div>
</div>

<script>
    function calculateMetrics() {
        // 1. R√©cup√©ration des valeurs
        const revenue = parseFloat(document.getElementById('revenue').value);
        const adSpend = parseFloat(document.getElementById('adSpend').value);
        const otherCosts = parseFloat(document.getElementById('otherCosts').value);

        // Si tous les champs sont vides, on ne fait rien (pour √©viter d'afficher des z√©ros partout au chargement)
        if (isNaN(revenue) && isNaN(adSpend) && isNaN(otherCosts)) {
            return; 
        }

        // On traite les valeurs (si un champ est vide, on le consid√®re comme 0 pour le calcul)
        const rev = isNaN(revenue) ? 0 : revenue;
        const ads = isNaN(adSpend) ? 0 : adSpend;
        const other = isNaN(otherCosts) ? 0 : otherCosts;

        // 2. Calculs
        const totalCost = ads + other;
        const profit = rev - totalCost;

        let roas = 0;
        if (ads > 0) {
            roas = rev / ads;
        }

        let roi = 0;
        if (totalCost > 0) {
            roi = ((rev - totalCost) / totalCost) * 100;
        }

        // 3. Affichage
        document.getElementById('results').style.display = 'block';

        // Update ROAS
        document.getElementById('roasValue').innerText = roas.toFixed(2);
        document.getElementById('roasExplanation').innerText = roas.toFixed(2);

        // Update ROI
        document.getElementById('roiValue').innerText = roi.toFixed(2) + '%';
        document.getElementById('profitValue').innerText = profit.toFixed(2);

        // Update Couleurs et message
        const roiBox = document.getElementById('roiBox');
        if (roi < 0) {
            roiBox.classList.remove('roi-box');
            roiBox.classList.add('roi-negative');
            document.getElementById('summaryText').innerText = "‚ö†Ô∏è Attention : L'op√©ration n'est pas rentable.";
            document.getElementById('summaryText').style.color = "#d35400";
        } else {
            roiBox.classList.remove('roi-negative');
            roiBox.classList.add('roi-box');
            document.getElementById('summaryText').innerText = "‚úÖ Bravo : L'op√©ration est rentable.";
            document.getElementById('summaryText').style.color = "#27ae60";
        }
    }
</script>

</body>
</html>
